<launch>
  <arg name="pwm_path" value="Arm_Board_HW/PWM_Channels/PulseTimeControl" />
  <arg name="simulated" default="false" />
  <group ns="Arm_Board_HW" unless="$(arg simulated)">
    <node name="PCA9685_PWM_HAT" pkg="mavric" type="PCA9685_PWM_HAT.py" respawn="true">
      <param name="frequency" value="50" />
      <!-- Determine as SetPeriod/RealPeriod -->
      <param name="clk_error" value="1.08" />
    </node>
  </group>
  <include file="$(find mavric)/launch/LinearActuator.launch" >
    <arg name="simulated" default="false" />

    <arg name="control_output" value="$(arg pwm_path)/CH15" />
    <arg name="control_input" value="/linac1" />

    <arg name="has_low_limit" default="true"/>
    <arg name="low_limit_pin" default="4"/>

    <arg name="num" value="1" />
  </include>
</launch>
